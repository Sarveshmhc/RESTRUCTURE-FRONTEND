/* Sidebar-only tooltip that appears to the right of the collapsed rail */

.wrap {
  position: relative;
  display: block;            /* keeps anchor the same size as the item */
}

/* Tokens (inherit your app variables) */
:root,
.wrap {
  --st-bg: var(--tooltip-bg, rgba(17, 24, 39, 0.96));     /* dark surface */
  --st-text: var(--tooltip-text, #ffffff);
  --st-border: var(--sidebar-border, #334155);
  --st-shadow: 0 12px 28px rgba(0,0,0,.24), 0 2px 8px rgba(0,0,0,.18);
  --st-radius: 10px;
  --st-pad-y: 8px;
  --st-pad-x: 12px;
  --st-font: 12.5px;
  --st-gap: 10px;            /* distance from rail */
  --st-anim: 180ms cubic-bezier(.22,1,.36,1);  /* springy ease */
}

.tip {
  position: absolute;
  top: 50%;
  left: calc(100% + var(--st-gap));
  transform: translateY(-50%) translateX(8px) scale(.96);
  transform-origin: center left;
  opacity: 0;
  pointer-events: none;
  z-index: 1000;

  padding: var(--st-pad-y) var(--st-pad-x);
  font-size: var(--st-font);
  line-height: 1;
  white-space: nowrap;
  color: var(--st-text);
  max-width: 240px;

  /* Glossy surface with subtle gradient border */
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)) padding-box,
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.04)) border-box;
  border: 1px solid var(--st-border);
  border-radius: var(--st-radius);
  box-shadow: var(--st-shadow);
  -webkit-backdrop-filter: saturate(1.1) blur(6px);
  backdrop-filter: saturate(1.1) blur(6px);

  transition: opacity var(--st-anim), transform var(--st-anim);
}

/* Arrow */
.arrow {
  position: absolute;
  top: 50%;
  left: -6px;
  width: 10px;
  height: 10px;
  transform: translateY(-50%) rotate(45deg);
  background: var(--st-bg);
  border: 1px solid var(--st-border);
  box-shadow: -1px 1px 2px rgba(0,0,0,.15);
  /* Hide the two outer borders so it visually connects to bubble */
  border-left: none; 
  border-bottom: none;
}

/* Reveal on hover/focus of the anchor */
.wrap:hover .tip,
.wrap:focus-within .tip {
  opacity: 1;
  transform: translateY(-50%) translateX(0) scale(1);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .tip {
    transition: opacity 120ms linear;
    transform: translateY(-50%);
  }
  .wrap:hover .tip,
  .wrap:focus-within .tip {
    transform: translateY(-50%);
  }
}

/* Light theme polish */
:root[data-theme="light"] .tip {
  --st-bg: rgba(255,255,255,.98);
  --st-text: #0f172a;
  --st-border: rgba(2,6,23,.10);
  box-shadow: 0 10px 28px rgba(2,6,23,.12), 0 2px 6px rgba(2,6,23,.08);
}

/* High contrast */
@media (prefers-contrast: more) {
  .tip { border-width: 2px; }
}